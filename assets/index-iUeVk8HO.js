var Ht=Object.defineProperty;var Jt=(e,t,n)=>t in e?Ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>(Jt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function C(){}const Yt=e=>e;function at(e,t){for(const n in t)e[n]=t[n];return e}function Mt(e){return e()}function yt(){return Object.create(null)}function G(e){e.forEach(Mt)}function it(e){return typeof e=="function"}function N(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Gt(e){return Object.keys(e).length===0}function zt(e,t,n,i){if(e){const s=Lt(e,t,n,i);return e[0](s)}}function Lt(e,t,n,i){return e[1]&&i?at(n.ctx.slice(),e[1](i(t))):n.ctx}function Tt(e,t,n,i){if(e[2]&&i){const s=e[2](i(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const o=[],l=Math.max(t.dirty.length,s.length);for(let c=0;c<l;c+=1)o[c]=t.dirty[c]|s[c];return o}return t.dirty|s}return t.dirty}function At(e,t,n,i,s,o){if(s){const l=Lt(t,n,i,o);e.p(l,s)}}function Pt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function Kt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function _t(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function xt(e){return e??""}function Vt(e){return e&&it(e.destroy)?e.destroy:C}const jt=typeof window<"u";let Xt=jt?()=>window.performance.now():()=>Date.now(),gt=jt?e=>requestAnimationFrame(e):C;const H=new Set;function $t(e){H.forEach(t=>{t.c(e)||(H.delete(t),t.f())}),H.size!==0&&gt($t)}function Zt(e){let t;return H.size===0&&gt($t),{promise:new Promise(n=>{H.add(t={c:e,f:n})}),abort(){H.delete(t)}}}function m(e,t){e.appendChild(t)}function Dt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Qt(e){const t=x("style");return t.textContent="/* empty */",te(Dt(e),t),t.sheet}function te(e,t){return m(e.head||e,t),t.sheet}function D(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function O(){return z(" ")}function rt(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const ee=["width","height"];function wt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&ee.indexOf(i)===-1?e[i]=t[i]:w(e,i,t[i])}function It(e){return e===""?null:+e}function ne(e){return Array.from(e.childNodes)}function J(e,t){t=""+t,e.data!==t&&(e.data=t)}function bt(e,t){e.value=t??""}function Ft(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}const lt=new Map;let ut=0;function ie(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function se(e,t){const n={stylesheet:Qt(t),rules:{}};return lt.set(e,n),n}function oe(e,t,n,i,s,o,l,c=0){const a=16.666/i;let r=`{
`;for(let b=0;b<=1;b+=a){const p=t+(n-t)*o(b);r+=b*100+`%{${l(p,1-p)}}
`}const f=r+`100% {${l(n,1-n)}}
}`,h=`__svelte_${ie(f)}_${c}`,d=Dt(e),{stylesheet:y,rules:_}=lt.get(d)||se(d,e);_[h]||(_[h]=!0,y.insertRule(`@keyframes ${h} ${f}`,y.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${h} ${i}ms linear ${s}ms 1 both`,ut+=1,h}function vt(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),s=n.length-i.length;s&&(e.style.animation=i.join(", "),ut-=s,ut||re())}function re(){gt(()=>{ut||(lt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&M(t)}),lt.clear())})}let et;function tt(e){et=e}function ce(){if(!et)throw new Error("Function called outside component initialization");return et}function Rt(){const e=ce();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=Ft(t,n,{cancelable:i});return s.slice().forEach(l=>{l.call(e,o)}),!o.defaultPrevented}return!0}}function ae(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const q=[],ht=[];let Y=[];const kt=[],le=Promise.resolve();let pt=!1;function ue(){pt||(pt=!0,le.then(Nt))}function nt(e){Y.push(e)}const ft=new Set;let B=0;function Nt(){if(B!==0)return;const e=et;do{try{for(;B<q.length;){const t=q[B];B++,tt(t),he(t.$$)}}catch(t){throw q.length=0,B=0,t}for(tt(null),q.length=0,B=0;ht.length;)ht.pop()();for(let t=0;t<Y.length;t+=1){const n=Y[t];ft.has(n)||(ft.add(n),n())}Y.length=0}while(q.length);for(;kt.length;)kt.pop()();pt=!1,ft.clear(),tt(e)}function he(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(nt)}}function fe(e){const t=[],n=[];Y.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Y=t}let Q;function de(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function St(e,t,n){e.dispatchEvent(Ft(`intro${n}`))}const ct=new Set;let F;function pe(){F={r:0,c:[],p:F}}function me(){F.r||G(F.c),F=F.p}function A(e,t){e&&e.i&&(ct.delete(e),e.i(t))}function I(e,t,n,i){if(e&&e.o){if(ct.has(e))return;ct.add(e),F.c.push(()=>{ct.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const ge={duration:0};function ye(e,t,n){const i={direction:"in"};let s=t(e,n,i),o=!1,l,c,a=0;function r(){l&&vt(e,l)}function f(){const{delay:d=0,duration:y=300,easing:_=Yt,tick:g=C,css:b}=s||ge;b&&(l=oe(e,0,1,y,d,_,b,a++)),g(0,1);const p=Xt()+d,P=p+y;c&&c.abort(),o=!0,nt(()=>St(e,!0,"start")),c=Zt(k=>{if(o){if(k>=P)return g(1,0),St(e,!0,"end"),r(),o=!1;if(k>=p){const j=_((k-p)/y);g(j,1-j)}}return o})}let h=!1;return{start(){h||(h=!0,vt(e),it(s)?(s=s(i),de().then(f)):f())},invalidate(){h=!1},end(){o&&(r(),o=!1)}}}function _e(e,t){const n={},i={},s={$$scope:1};let o=e.length;for(;o--;){const l=e[o],c=t[o];if(c){for(const a in l)a in c||(i[a]=1);for(const a in c)s[a]||(n[a]=c[a],s[a]=1);e[o]=c}else for(const a in l)s[a]=1}for(const l in i)l in n||(n[l]=void 0);return n}function st(e){e&&e.c()}function K(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),nt(()=>{const o=e.$$.on_mount.map(Mt).filter(it);e.$$.on_destroy?e.$$.on_destroy.push(...o):G(o),e.$$.on_mount=[]}),s.forEach(nt)}function V(e,t){const n=e.$$;n.fragment!==null&&(fe(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function xe(e,t){e.$$.dirty[0]===-1&&(q.push(e),ue(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(e,t,n,i,s,o,l=null,c=[-1]){const a=et;tt(e);const r=e.$$={fragment:null,ctx:[],props:o,update:C,not_equal:s,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:yt(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};l&&l(r.root);let f=!1;if(r.ctx=n?n(e,t.props||{},(h,d,...y)=>{const _=y.length?y[0]:d;return r.ctx&&s(r.ctx[h],r.ctx[h]=_)&&(!r.skip_bound&&r.bound[h]&&r.bound[h](_),f&&xe(e,h)),d}):[],r.update(),f=!0,G(r.before_update),r.fragment=i?i(r.ctx):!1,t.target){if(t.hydrate){const h=ne(t.target);r.fragment&&r.fragment.l(h),h.forEach(M)}else r.fragment&&r.fragment.c();t.intro&&A(e.$$.fragment),K(e,t.target,t.anchor),Nt()}tt(a)}class Z{constructor(){u(this,"$$");u(this,"$$set")}$destroy(){V(this,1),this.$destroy=C}$on(t,n){if(!it(n))return C;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!Gt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const we="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(we);const be="/add-game/assets/wrong-Cae37O8m.mp3",ve="/add-game/assets/correct-DEwY3Po3.mp3",ke="/add-game/assets/complete-wZz7wJEN.mp3",U=[];function Se(e,t=C){let n;const i=new Set;function s(c){if(N(e,c)&&(e=c,n)){const a=!U.length;for(const r of i)r[1](),U.push(r,e);if(a){for(let r=0;r<U.length;r+=2)U[r][0](U[r+1]);U.length=0}}}function o(c){s(c(e))}function l(c,a=C){const r=[c,a];return i.add(r),i.size===1&&(n=t(s,o)||C),c(e),()=>{i.delete(r),i.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:l}}function Wt(e){let t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))t=e.map(Wt).filter(Boolean).join(" ");else for(let n in e)e[n]&&(t&&(t+=" "),t+=n);return t}const Ee=(...e)=>e.map(Wt).filter(Boolean).join(" ");function Oe(e){const t=e-1;return t*t*t+1}function Ce(e,{delay:t=0,duration:n=400,easing:i=Oe,axis:s="y"}={}){const o=getComputedStyle(e),l=+o.opacity,c=s==="y"?"height":"width",a=parseFloat(o[c]),r=s==="y"?["top","bottom"]:["left","right"],f=r.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),h=parseFloat(o[`padding${f[0]}`]),d=parseFloat(o[`padding${f[1]}`]),y=parseFloat(o[`margin${f[0]}`]),_=parseFloat(o[`margin${f[1]}`]),g=parseFloat(o[`border${f[0]}Width`]),b=parseFloat(o[`border${f[1]}Width`]);return{delay:t,duration:n,easing:i,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*l};${c}: ${p*a}px;padding-${r[0]}: ${p*h}px;padding-${r[1]}: ${p*d}px;margin-${r[0]}: ${p*y}px;margin-${r[1]}: ${p*_}px;border-${r[0]}-width: ${p*g}px;border-${r[1]}-width: ${p*b}px;`}}function Me(e){let t,n;const i=e[10].default,s=zt(i,e,e[9],null);let o=[e[1],{class:e[0]}],l={};for(let c=0;c<o.length;c+=1)l=at(l,o[c]);return{c(){t=x("div"),s&&s.c(),wt(t,l)},m(c,a){D(c,t,a),s&&s.m(t,null),n=!0},p(c,[a]){s&&s.p&&(!n||a&512)&&At(s,i,c,c[9],n?Tt(i,c[9],a,null):Pt(c[9]),null),wt(t,l=_e(o,[a&2&&c[1],(!n||a&1)&&{class:c[0]}]))},i(c){n||(A(s,c),n=!0)},o(c){I(s,c),n=!1},d(c){c&&M(t),s&&s.d(c)}}}function ze(e,t,n){let i;const s=["class","sm","md","lg","xl","xxl","fluid"];let o=_t(t,s),{$$slots:l={},$$scope:c}=t,{class:a=""}=t,{sm:r=void 0}=t,{md:f=void 0}=t,{lg:h=void 0}=t,{xl:d=void 0}=t,{xxl:y=void 0}=t,{fluid:_=!1}=t;return e.$$set=g=>{t=at(at({},t),Kt(g)),n(1,o=_t(t,s)),"class"in g&&n(2,a=g.class),"sm"in g&&n(3,r=g.sm),"md"in g&&n(4,f=g.md),"lg"in g&&n(5,h=g.lg),"xl"in g&&n(6,d=g.xl),"xxl"in g&&n(7,y=g.xxl),"fluid"in g&&n(8,_=g.fluid),"$$scope"in g&&n(9,c=g.$$scope)},e.$$.update=()=>{e.$$.dirty&508&&n(0,i=Ee(a,{"container-sm":r,"container-md":f,"container-lg":h,"container-xl":d,"container-xxl":y,"container-fluid":_,container:!r&&!f&&!h&&!d&&!y&&!_}))},[i,o,a,r,f,h,d,y,_,c,l]}class Le extends Z{constructor(t){super(),X(this,t,ze,Me,N,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}const Bt=Se(Te());Bt.subscribe(e=>Ae(e));function Te(){var n,i,s;const e=((n=globalThis.document)==null?void 0:n.documentElement.getAttribute("data-bs-theme"))||"light",t=typeof((i=globalThis.window)==null?void 0:i.matchMedia)=="function"?(s=globalThis.window)==null?void 0:s.matchMedia("(prefers-color-scheme: dark)").matches:!1;return e==="dark"||e==="auto"&&t?"dark":"light"}function Ae(e,t){var i;let n=e;if(arguments.length===1){if(n=(i=globalThis.document)==null?void 0:i.documentElement,!n)return;t=e,Bt.update(()=>t)}n.setAttribute("data-bs-theme",t)}function Pe(e){let t,n;return{c(){t=x("h4"),n=z(e[0])},m(i,s){D(i,t,s),m(t,n)},p(i,[s]){s&1&&J(n,i[0])},i:C,o:C,d(i){i&&M(t)}}}const je=20,$e=3;function Et(e){let t=Math.floor(e/1e3%60),n=Math.floor(e%1e3/10),i=String(t).padStart(2,"0"),s=String(n).padStart(2,"0");return`${i}:${s}`}function De(e,t,n){const i=Rt();let s="00:00",o=0,l=0,c;function a(){l=Date.now(),o=Date.now()+je*1e3,c=setInterval(h,60)}function r(){o+=$e*1e3}function f(){clearInterval(c);let d=Date.now()-l;return Et(d)}function h(){let d=o-Date.now();n(0,s=Et(d)),d<0&&(f(),n(0,s="0:00"),i("timesUp"))}return a(),[s,r,f]}class Ie extends Z{constructor(t){super(),X(this,t,De,Pe,N,{add:1,stop:2})}get add(){return this.$$.ctx[1]}get stop(){return this.$$.ctx[2]}}function Fe(e){let t,n,i,s,o,l,c,a,r,f,h,d,y,_,g,b,p,P,k,j,L,E,W,ot,S={};return k=new Ie({props:S}),e[10](k),k.$on("timesUp",e[7]),{c(){t=x("div"),n=x("div"),n.innerHTML='<i class="bi bi-tools"></i>',i=O(),s=x("h1"),o=z(e[1]),l=z(" + "),c=z(e[2]),a=O(),r=x("input"),f=O(),h=x("button"),h.textContent="Answer",d=O(),y=x("div"),_=x("h1"),g=z("Score: "),b=z(e[4]),P=O(),st(k.$$.fragment),j=O(),L=x("small"),L.textContent="+3 seconds per correct answer",w(n,"class","pb-5"),w(s,"class","nums svelte-xnrlhu"),w(r,"type","number"),w(r,"name","guess"),w(r,"class","svelte-xnrlhu"),w(h,"class","btn btn-secondary svelte-xnrlhu"),w(_,"class",p=xt(e[5])+" svelte-xnrlhu"),w(t,"class","content")},m(v,$){D(v,t,$),m(t,n),m(t,i),m(t,s),m(s,o),m(s,l),m(s,c),m(t,a),m(t,r),bt(r,e[3]),m(t,f),m(t,h),m(t,d),m(t,y),m(y,_),m(_,g),m(_,b),m(y,P),K(k,y,null),m(y,j),m(y,L),E=!0,W||(ot=[rt(r,"input",e[8]),rt(r,"keyup",e[9]),rt(h,"click",e[6])],W=!0)},p(v,$){(!E||$&2)&&J(o,v[1]),(!E||$&4)&&J(c,v[2]),$&8&&It(r.value)!==v[3]&&bt(r,v[3]),(!E||$&16)&&J(b,v[4]),(!E||$&32&&p!==(p=xt(v[5])+" svelte-xnrlhu"))&&w(_,"class",p);const qt={};k.$set(qt)},i(v){E||(A(k.$$.fragment,v),E=!0)},o(v){I(k.$$.fragment,v),E=!1},d(v){v&&M(t),e[10](null),V(k),W=!1,G(ot)}}}function Re(e){let t,n;return t=new Le({props:{class:"text-center d-flex justify-content-center align-items-center vh-100",style:"overflow:hidden;",$$slots:{default:[Fe]},$$scope:{ctx:e}}}),{c(){st(t.$$.fragment)},m(i,s){K(t,i,s),n=!0},p(i,[s]){const o={};s&16447&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){n||(A(t.$$.fragment,i),n=!0)},o(i){I(t.$$.fragment,i),n=!1},d(i){V(t,i)}}}function Ne(e,t,n){let i,s=20,o=30,l,c,a=0,r="";f();function f(){let p=15;const P=setInterval(()=>{n(1,s=Math.ceil(Math.random()*100)+1),n(2,o=Math.ceil(Math.random()*100)+1),p--,p===0&&clearInterval(P)},50)}function h(){i.add(),!(l==null||l=="")&&(s+o===l?(n(3,l=""),n(4,a+=1),n(5,r="correct"),new Audio(ve).play(),f()):(n(3,l=""),n(5,r="wrong"),new Audio(be).play()))}const d=Rt();function y(){let p=new Audio(ke);p.volume=.9,p.play(),c=i.stop(),d("complete",{score:a,time:c})}function _(){l=It(this.value),n(3,l)}const g=p=>p.key==="Enter"?h():"";function b(p){ht[p?"unshift":"push"](()=>{i=p,n(0,i)})}return[i,s,o,l,a,r,h,y,_,g,b]}class We extends Z{constructor(t){super(),X(this,t,Ne,Re,N,{})}}function dt(e){return Math.abs(Math.floor(e))}function R(e,t){return Math.random()*(t-e)+e}function T(e,t){return Math.floor(R(e,t+1))}function Ot(e,t,n,i){const s=Math.pow;return Math.sqrt(s(e-n,2)+s(t-i,2))}function mt(e,t,n=1){if(e>360||e<0)throw new Error(`Expected hue 0-360 range, got \`${e}\``);if(t>100||t<0)throw new Error(`Expected lightness 0-100 range, got \`${t}\``);if(n>1||n<0)throw new Error(`Expected alpha 0-1 range, got \`${n}\``);return`hsla(${e}, 100%, ${t}%, ${n})`}const Ct=e=>{if(typeof e=="object"&&e!==null){if(typeof Object.getPrototypeOf=="function"){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}return Object.prototype.toString.call(e)==="[object Object]"}return!1},Be=["__proto__","constructor","prototype"],Ut=(...e)=>e.reduce((t,n)=>(Object.keys(n).forEach(i=>{Be.includes(i)||(Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=n[i]:Ct(t[i])&&Ct(n[i])?t[i]=Ut(t[i],n[i]):t[i]=n[i])}),t),{});function Ue(e,t){let n;return(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...i),t)}}class qe{constructor({x:t,y:n,ctx:i,hue:s,decay:o,gravity:l,friction:c,brightness:a,flickering:r,lineWidth:f,explosionLength:h}){u(this,"x");u(this,"y");u(this,"ctx");u(this,"hue");u(this,"friction");u(this,"gravity");u(this,"flickering");u(this,"lineWidth");u(this,"explosionLength");u(this,"angle");u(this,"speed");u(this,"brightness");u(this,"coordinates",[]);u(this,"decay");u(this,"alpha",1);for(this.x=t,this.y=n,this.ctx=i,this.hue=s,this.gravity=l,this.friction=c,this.flickering=r,this.lineWidth=f,this.explosionLength=h,this.angle=R(0,Math.PI*2),this.speed=T(1,10),this.brightness=T(a.min,a.max),this.decay=R(o.min,o.max);this.explosionLength--;)this.coordinates.push([t,n])}update(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&t()}draw(){const t=this.coordinates.length-1;this.ctx.beginPath(),this.ctx.lineWidth=this.lineWidth,this.ctx.fillStyle=mt(this.hue,this.brightness,this.alpha),this.ctx.moveTo(this.coordinates[t][0],this.coordinates[t][1]),this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=mt(this.hue,this.flickering?R(0,this.brightness):this.brightness,this.alpha),this.ctx.stroke()}}class He{constructor(t,n){u(this,"active",!1);u(this,"x");u(this,"y");this.options=t,this.canvas=n,this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this),this.pointerMove=this.pointerMove.bind(this)}get mouseOptions(){return this.options.mouse}mount(){this.canvas.addEventListener("pointerdown",this.pointerDown),this.canvas.addEventListener("pointerup",this.pointerUp),this.canvas.addEventListener("pointermove",this.pointerMove)}unmount(){this.canvas.removeEventListener("pointerdown",this.pointerDown),this.canvas.removeEventListener("pointerup",this.pointerUp),this.canvas.removeEventListener("pointermove",this.pointerMove)}usePointer(t,n){const{click:i,move:s}=this.mouseOptions;(i||s)&&(this.x=t.pageX-this.canvas.offsetLeft,this.y=t.pageY-this.canvas.offsetTop,this.active=n)}pointerDown(t){this.usePointer(t,this.mouseOptions.click)}pointerUp(t){this.usePointer(t,!1)}pointerMove(t){this.usePointer(t,this.active)}}class Je{constructor(){u(this,"hue");u(this,"rocketsPoint");u(this,"opacity");u(this,"acceleration");u(this,"friction");u(this,"gravity");u(this,"particles");u(this,"explosion");u(this,"mouse");u(this,"boundaries");u(this,"sound");u(this,"delay");u(this,"brightness");u(this,"decay");u(this,"flickering");u(this,"intensity");u(this,"traceLength");u(this,"traceSpeed");u(this,"lineWidth");u(this,"lineStyle");u(this,"autoresize");this.autoresize=!0,this.lineStyle="round",this.flickering=50,this.traceLength=3,this.traceSpeed=10,this.intensity=30,this.explosion=5,this.gravity=1.5,this.opacity=.5,this.particles=50,this.friction=.95,this.acceleration=1.05,this.hue={min:0,max:360},this.rocketsPoint={min:50,max:50},this.lineWidth={explosion:{min:1,max:3},trace:{min:1,max:2}},this.mouse={click:!1,move:!1,max:1},this.delay={min:30,max:60},this.brightness={min:50,max:80},this.decay={min:.015,max:.03},this.sound={enabled:!1,files:["explosion0.mp3","explosion1.mp3","explosion2.mp3"],volume:{min:4,max:8}},this.boundaries={debug:!1,height:0,width:0,x:50,y:50}}update(t){Object.assign(this,Ut(this,t))}}class Ye{constructor(t,n){u(this,"tick",0);u(this,"rafId",0);u(this,"fps",60);u(this,"tolerance",.1);u(this,"now");this.options=t,this.render=n}mount(){this.now=performance.now();const t=1e3/this.fps,n=i=>{this.rafId=requestAnimationFrame(n);const s=i-this.now;s>=t-this.tolerance&&(this.render(),this.now=i-s%t,this.tick+=s*(this.options.intensity*Math.PI)/1e3)};this.rafId=requestAnimationFrame(n)}unmount(){cancelAnimationFrame(this.rafId)}}class Ge{constructor(t,n,i){u(this,"resizer");this.options=t,this.updateSize=n,this.container=i}mount(){if(!this.resizer){const t=Ue(()=>this.updateSize(),100);this.resizer=new ResizeObserver(t)}this.options.autoresize&&this.resizer.observe(this.container)}unmount(){this.resizer&&this.resizer.unobserve(this.container)}}class Ke{constructor(t){u(this,"buffers",[]);u(this,"audioContext");u(this,"onInit",!1);this.options=t,this.init()}get isEnabled(){return this.options.sound.enabled}get soundOptions(){return this.options.sound}init(){!this.onInit&&this.isEnabled&&(this.onInit=!0,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.loadSounds())}async loadSounds(){for(const t of this.soundOptions.files){const n=await(await fetch(t)).arrayBuffer();this.audioContext.decodeAudioData(n).then(i=>{this.buffers.push(i)}).catch(i=>{throw i})}}play(){if(this.isEnabled&&this.buffers.length){const t=this.audioContext.createBufferSource(),n=this.buffers[T(0,this.buffers.length-1)],i=this.audioContext.createGain();t.buffer=n,i.gain.value=R(this.soundOptions.volume.min/100,this.soundOptions.volume.max/100),i.connect(this.audioContext.destination),t.connect(i),t.start(0)}else this.init()}}class Ve{constructor({x:t,y:n,dx:i,dy:s,ctx:o,hue:l,speed:c,traceLength:a,acceleration:r}){u(this,"x");u(this,"y");u(this,"sx");u(this,"sy");u(this,"dx");u(this,"dy");u(this,"ctx");u(this,"hue");u(this,"speed");u(this,"acceleration");u(this,"traceLength");u(this,"totalDistance");u(this,"angle");u(this,"brightness");u(this,"coordinates",[]);u(this,"currentDistance",0);for(this.x=t,this.y=n,this.sx=t,this.sy=n,this.dx=i,this.dy=s,this.ctx=o,this.hue=l,this.speed=c,this.traceLength=a,this.acceleration=r,this.totalDistance=Ot(t,n,i,s),this.angle=Math.atan2(s-n,i-t),this.brightness=T(50,70);this.traceLength--;)this.coordinates.push([t,n])}update(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.acceleration;const n=Math.cos(this.angle)*this.speed,i=Math.sin(this.angle)*this.speed;this.currentDistance=Ot(this.sx,this.sy,this.x+n,this.y+i),this.currentDistance>=this.totalDistance?t(this.dx,this.dy,this.hue):(this.x+=n,this.y+=i)}draw(){const t=this.coordinates.length-1;this.ctx.beginPath(),this.ctx.moveTo(this.coordinates[t][0],this.coordinates[t][1]),this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=mt(this.hue,this.brightness),this.ctx.stroke()}}class Xe{constructor(t,n={}){u(this,"target");u(this,"container");u(this,"canvas");u(this,"ctx");u(this,"width");u(this,"height");u(this,"traces",[]);u(this,"explosions",[]);u(this,"waitStopRaf");u(this,"running",!1);u(this,"opts");u(this,"sound");u(this,"resize");u(this,"mouse");u(this,"raf");this.target=t,this.container=t,this.opts=new Je,this.createCanvas(this.target),this.updateOptions(n),this.sound=new Ke(this.opts),this.resize=new Ge(this.opts,this.updateSize.bind(this),this.container),this.mouse=new He(this.opts,this.canvas),this.raf=new Ye(this.opts,this.render.bind(this))}get isRunning(){return this.running}get version(){return"2.10.7"}get currentOptions(){return this.opts}start(){this.running||(this.canvas.isConnected||this.createCanvas(this.target),this.running=!0,this.resize.mount(),this.mouse.mount(),this.raf.mount())}stop(t=!1){!this.running||(this.running=!1,this.resize.unmount(),this.mouse.unmount(),this.raf.unmount(),this.clear(),t&&this.canvas.remove())}async waitStop(t){if(this.running)return new Promise(n=>{this.waitStopRaf=()=>{!this.waitStopRaf||(requestAnimationFrame(this.waitStopRaf),!this.traces.length&&!this.explosions.length&&(this.waitStopRaf=null,this.stop(t),n()))},this.waitStopRaf()})}pause(){this.running=!this.running,this.running?this.raf.mount():this.raf.unmount()}clear(){!this.ctx||(this.traces=[],this.explosions=[],this.ctx.clearRect(0,0,this.width,this.height))}launch(t=1){for(let n=0;n<t;n++)this.createTrace();this.waitStopRaf||(this.start(),this.waitStop())}updateOptions(t){this.opts.update(t)}updateSize({width:t=this.container.clientWidth,height:n=this.container.clientHeight}={}){this.width=t,this.height=n,this.canvas.width=t,this.canvas.height=n,this.updateBoundaries({...this.opts.boundaries,width:t,height:n})}updateBoundaries(t){this.updateOptions({boundaries:t})}createCanvas(t){t instanceof HTMLCanvasElement?(t.isConnected||document.body.append(t),this.canvas=t):(this.canvas=document.createElement("canvas"),this.container.append(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.updateSize()}render(){if(!this.ctx||!this.running)return;const{opacity:t,lineStyle:n,lineWidth:i}=this.opts;this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle=`rgba(0, 0, 0, ${t})`,this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="lighter",this.ctx.lineCap=n,this.ctx.lineJoin="round",this.ctx.lineWidth=R(i.trace.min,i.trace.max),this.initTrace(),this.drawTrace(),this.drawExplosion()}createTrace(){const{hue:t,rocketsPoint:n,boundaries:i,traceLength:s,traceSpeed:o,acceleration:l,mouse:c}=this.opts;this.traces.push(new Ve({x:this.width*T(n.min,n.max)/100,y:this.height,dx:this.mouse.x&&c.move||this.mouse.active?this.mouse.x:T(i.x,i.width-i.x*2),dy:this.mouse.y&&c.move||this.mouse.active?this.mouse.y:T(i.y,i.height*.5),ctx:this.ctx,hue:T(t.min,t.max),speed:o,acceleration:l,traceLength:dt(s)}))}initTrace(){if(this.waitStopRaf)return;const{delay:t,mouse:n}=this.opts;(this.raf.tick>T(t.min,t.max)||this.mouse.active&&n.max>this.traces.length)&&(this.createTrace(),this.raf.tick=0)}drawTrace(){let t=this.traces.length;for(;t--;)this.traces[t].draw(),this.traces[t].update((n,i,s)=>{this.initExplosion(n,i,s),this.sound.play(),this.traces.splice(t,1)})}initExplosion(t,n,i){const{particles:s,flickering:o,lineWidth:l,explosion:c,brightness:a,friction:r,gravity:f,decay:h}=this.opts;let d=dt(s);for(;d--;)this.explosions.push(new qe({x:t,y:n,ctx:this.ctx,hue:i,friction:r,gravity:f,flickering:T(0,100)<=o,lineWidth:R(l.explosion.min,l.explosion.max),explosionLength:dt(c),brightness:a,decay:h}))}drawExplosion(){let t=this.explosions.length;for(;t--;)this.explosions[t].draw(),this.explosions[t].update(()=>{this.explosions.splice(t,1)})}}function Ze(e){let t,n,i,s,o;const l=e[7].default,c=zt(l,e,e[6],null);return{c(){t=x("div"),c&&c.c(),w(t,"class",e[0]),w(t,"style",e[1])},m(a,r){D(a,t,r),c&&c.m(t,null),i=!0,s||(o=Vt(n=e[3].call(null,t,e[2])),s=!0)},p(a,[r]){c&&c.p&&(!i||r&64)&&At(c,l,a,a[6],i?Tt(l,a[6],r,null):Pt(a[6]),null),(!i||r&1)&&w(t,"class",a[0]),(!i||r&2)&&w(t,"style",a[1]),n&&it(n.update)&&r&4&&n.update.call(null,a[2])},i(a){i||(A(c,a),i=!0)},o(a){I(c,a),i=!1},d(a){a&&M(t),c&&c.d(a),s=!1,o()}}}function Qe(e,t,n){let{$$slots:i={},$$scope:s}=t,{class:o=""}=t,{autostart:l=!0}=t,{style:c=""}=t,{options:a={}}=t,r;function f(){return r}function h(d,y){return r=new Xe(d,y),l&&r.start(),{update(_){r.updateOptions(_)},destroy(){r.stop()}}}return e.$$set=d=>{"class"in d&&n(0,o=d.class),"autostart"in d&&n(4,l=d.autostart),"style"in d&&n(1,c=d.style),"options"in d&&n(2,a=d.options),"$$scope"in d&&n(6,s=d.$$scope)},[o,c,a,h,l,f,s,i]}let tn=class extends Z{constructor(t){super(),X(this,t,Qe,Ze,N,{class:0,autostart:4,style:1,options:2,fireworksInstance:5})}get fireworksInstance(){return this.$$.ctx[5]}};function en(e){let t,n,i,s,o,l,c,a,r,f,h,d,y,_,g,b,p,P,k,j,L,E,W,ot={autostart:!0,options:e[3],class:"fireworks"};return n=new tn({props:ot}),e[5](n),{c(){t=x("div"),st(n.$$.fragment),i=O(),s=x("div"),o=x("div"),l=x("h3"),l.textContent="New Record!",c=O(),a=x("h1"),r=z(e[0]),f=O(),h=x("h5"),d=z("Finished in "),y=z(e[1]),_=z("s"),g=O(),b=x("div"),p=x("button"),p.textContent="Play Again",P=O(),k=x("button"),k.textContent="Show Scores",w(t,"class","fireworks-div svelte-gj60zw"),w(a,"class","svelte-gj60zw"),w(p,"class","btn btn-primary m-2"),k.disabled=!0,w(k,"class","btn btn-secondary m-2"),w(o,"class","content svelte-gj60zw"),w(s,"class","dashboard container svelte-gj60zw")},m(S,v){D(S,t,v),K(n,t,null),D(S,i,v),D(S,s,v),m(s,o),m(o,l),m(o,c),m(o,a),m(a,r),m(o,f),m(o,h),m(h,d),m(h,y),m(h,_),m(o,g),m(o,b),m(b,p),m(b,P),m(b,k),L=!0,E||(W=rt(p,"click",e[4]),E=!0)},p(S,[v]){const $={};n.$set($),(!L||v&1)&&J(r,S[0]),(!L||v&2)&&J(y,S[1])},i(S){L||(A(n.$$.fragment,S),S&&(j||nt(()=>{j=ye(o,Ce,{delay:600}),j.start()})),L=!0)},o(S){I(n.$$.fragment,S),L=!1},d(S){S&&(M(t),M(i),M(s)),e[5](null),V(n),E=!1,W()}}}function nn(e,t,n){let i,s={opacity:1,autoresize:!0},{score:o}=t,{time:l}=t;function c(r){ae.call(this,e,r)}function a(r){ht[r?"unshift":"push"](()=>{i=r,n(2,i)})}return e.$$set=r=>{"score"in r&&n(0,o=r.score),"time"in r&&n(1,l=r.time)},[o,l,i,s,c,a]}class sn extends Z{constructor(t){super(),X(this,t,nn,en,N,{score:0,time:1})}}function on(e){let t,n;return t=new sn({props:{score:e[1],time:e[2]}}),t.$on("click",e[3]),{c(){st(t.$$.fragment)},m(i,s){K(t,i,s),n=!0},p(i,s){const o={};s&2&&(o.score=i[1]),s&4&&(o.time=i[2]),t.$set(o)},i(i){n||(A(t.$$.fragment,i),n=!0)},o(i){I(t.$$.fragment,i),n=!1},d(i){V(t,i)}}}function rn(e){let t,n;return t=new We({}),t.$on("complete",e[4]),{c(){st(t.$$.fragment)},m(i,s){K(t,i,s),n=!0},p:C,i(i){n||(A(t.$$.fragment,i),n=!0)},o(i){I(t.$$.fragment,i),n=!1},d(i){V(t,i)}}}function cn(e){let t,n,i,s,o,l;const c=[rn,on],a=[];function r(f,h){return f[0]?0:1}return s=r(e),o=a[s]=c[s](e),{c(){t=x("link"),n=O(),i=x("main"),o.c(),w(t,"rel","stylesheet"),w(t,"href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css")},m(f,h){m(document.head,t),D(f,n,h),D(f,i,h),a[s].m(i,null),l=!0},p(f,[h]){let d=s;s=r(f),s===d?a[s].p(f,h):(pe(),I(a[d],1,1,()=>{a[d]=null}),me(),o=a[s],o?o.p(f,h):(o=a[s]=c[s](f),o.c()),A(o,1),o.m(i,null))},i(f){l||(A(o),l=!0)},o(f){I(o),l=!1},d(f){f&&(M(n),M(i)),M(t),a[s].d()}}}function an(e,t,n){let i=!0;function s(){n(0,i=!0),console.log("again")}let o,l;return[i,o,l,s,a=>{n(1,o=a.detail.score),n(2,l=a.detail.time),n(0,i=!1)}]}class ln extends Z{constructor(t){super(),X(this,t,an,cn,N,{})}}new ln({target:document.getElementById("app")});
