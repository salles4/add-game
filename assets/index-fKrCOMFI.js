var qt=Object.defineProperty;var Gt=(e,t,n)=>t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>(Gt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function O(){}const Ht=e=>e;function rt(e,t){for(const n in t)e[n]=t[n];return e}function Ct(e){return e()}function gt(){return Object.create(null)}function J(e){e.forEach(Ct)}function nt(e){return typeof e=="function"}function F(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Jt(e){return Object.keys(e).length===0}function Mt(e,t,n,i){if(e){const s=zt(e,t,n,i);return e[0](s)}}function zt(e,t,n,i){return e[1]&&i?rt(n.ctx.slice(),e[1](i(t))):n.ctx}function Lt(e,t,n,i){if(e[2]&&i){const s=e[2](i(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const o=[],l=Math.max(t.dirty.length,s.length);for(let r=0;r<l;r+=1)o[r]=t.dirty[r]|s[r];return o}return t.dirty|s}return t.dirty}function Tt(e,t,n,i,s,o){if(s){const l=zt(t,n,i,o);e.p(l,s)}}function At(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function Yt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function yt(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function _t(e){return e??""}function Kt(e){return e&&nt(e.destroy)?e.destroy:O}const Pt=typeof window<"u";let Vt=Pt?()=>window.performance.now():()=>Date.now(),mt=Pt?e=>requestAnimationFrame(e):O;const q=new Set;function $t(e){q.forEach(t=>{t.c(e)||(q.delete(t),t.f())}),q.size!==0&&mt($t)}function Xt(e){let t;return q.size===0&&mt($t),{promise:new Promise(n=>{q.add(t={c:e,f:n})}),abort(){q.delete(t)}}}function g(e,t){e.appendChild(t)}function jt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Zt(e){const t=w("style");return t.textContent="/* empty */",Qt(jt(e),t),t.sheet}function Qt(e,t){return g(e.head||e,t),t.sheet}function D(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function P(){return C(" ")}function st(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const te=["width","height"];function xt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&te.indexOf(i)===-1?e[i]=t[i]:b(e,i,t[i])}function Dt(e){return e===""?null:+e}function ee(e){return Array.from(e.childNodes)}function G(e,t){t=""+t,e.data!==t&&(e.data=t)}function wt(e,t){e.value=t??""}function It(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}const ct=new Map;let at=0;function ne(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ie(e,t){const n={stylesheet:Zt(t),rules:{}};return ct.set(e,n),n}function se(e,t,n,i,s,o,l,r=0){const a=16.666/i;let c=`{
`;for(let x=0;x<=1;x+=a){const d=t+(n-t)*o(x);c+=x*100+`%{${l(d,1-d)}}
`}const p=c+`100% {${l(n,1-n)}}
}`,h=`__svelte_${ne(p)}_${r}`,f=jt(e),{stylesheet:y,rules:_}=ct.get(f)||ie(f,e);_[h]||(_[h]=!0,y.insertRule(`@keyframes ${h} ${p}`,y.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${h} ${i}ms linear ${s}ms 1 both`,at+=1,h}function bt(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),s=n.length-i.length;s&&(e.style.animation=i.join(", "),at-=s,at||oe())}function oe(){mt(()=>{at||(ct.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&L(t)}),ct.clear())})}let tt;function Q(e){tt=e}function re(){if(!tt)throw new Error("Function called outside component initialization");return tt}function Rt(){const e=re();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=It(t,n,{cancelable:i});return s.slice().forEach(l=>{l.call(e,o)}),!o.defaultPrevented}return!0}}function ce(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const U=[],lt=[];let H=[];const vt=[],ae=Promise.resolve();let dt=!1;function le(){dt||(dt=!0,ae.then(Ft))}function et(e){H.push(e)}const ht=new Set;let W=0;function Ft(){if(W!==0)return;const e=tt;do{try{for(;W<U.length;){const t=U[W];W++,Q(t),ue(t.$$)}}catch(t){throw U.length=0,W=0,t}for(Q(null),U.length=0,W=0;lt.length;)lt.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];ht.has(n)||(ht.add(n),n())}H.length=0}while(U.length);for(;vt.length;)vt.pop()();dt=!1,ht.clear(),Q(e)}function ue(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(et)}}function he(e){const t=[],n=[];H.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),H=t}let Z;function fe(){return Z||(Z=Promise.resolve(),Z.then(()=>{Z=null})),Z}function kt(e,t,n){e.dispatchEvent(It(`intro${n}`))}const ot=new Set;let I;function de(){I={r:0,c:[],p:I}}function pe(){I.r||J(I.c),I=I.p}function T(e,t){e&&e.i&&(ot.delete(e),e.i(t))}function $(e,t,n,i){if(e&&e.o){if(ot.has(e))return;ot.add(e),I.c.push(()=>{ot.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const me={duration:0};function ge(e,t,n){const i={direction:"in"};let s=t(e,n,i),o=!1,l,r,a=0;function c(){l&&bt(e,l)}function p(){const{delay:f=0,duration:y=300,easing:_=Ht,tick:m=O,css:x}=s||me;x&&(l=se(e,0,1,y,f,_,x,a++)),m(0,1);const d=Vt()+f,k=d+y;r&&r.abort(),o=!0,et(()=>kt(e,!0,"start")),r=Xt(E=>{if(o){if(E>=k)return m(1,0),kt(e,!0,"end"),c(),o=!1;if(E>=d){const A=_((E-d)/y);m(A,1-A)}}return o})}let h=!1;return{start(){h||(h=!0,bt(e),nt(s)?(s=s(i),fe().then(p)):p())},invalidate(){h=!1},end(){o&&(c(),o=!1)}}}function ye(e,t){const n={},i={},s={$$scope:1};let o=e.length;for(;o--;){const l=e[o],r=t[o];if(r){for(const a in l)a in r||(i[a]=1);for(const a in r)s[a]||(n[a]=r[a],s[a]=1);e[o]=r}else for(const a in l)s[a]=1}for(const l in i)l in n||(n[l]=void 0);return n}function it(e){e&&e.c()}function Y(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),et(()=>{const o=e.$$.on_mount.map(Ct).filter(nt);e.$$.on_destroy?e.$$.on_destroy.push(...o):J(o),e.$$.on_mount=[]}),s.forEach(et)}function K(e,t){const n=e.$$;n.fragment!==null&&(he(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function _e(e,t){e.$$.dirty[0]===-1&&(U.push(e),le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(e,t,n,i,s,o,l=null,r=[-1]){const a=tt;Q(e);const c=e.$$={fragment:null,ctx:[],props:o,update:O,not_equal:s,bound:gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:gt(),dirty:r,skip_bound:!1,root:t.target||a.$$.root};l&&l(c.root);let p=!1;if(c.ctx=n?n(e,t.props||{},(h,f,...y)=>{const _=y.length?y[0]:f;return c.ctx&&s(c.ctx[h],c.ctx[h]=_)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](_),p&&_e(e,h)),f}):[],c.update(),p=!0,J(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const h=ee(t.target);c.fragment&&c.fragment.l(h),h.forEach(L)}else c.fragment&&c.fragment.c();t.intro&&T(e.$$.fragment),Y(e,t.target,t.anchor),Ft()}Q(a)}class X{constructor(){u(this,"$$");u(this,"$$set")}$destroy(){K(this,1),this.$destroy=O}$on(t,n){if(!nt(n))return O;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!Jt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const xe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xe);const we="/add-game/assets/wrong-Cae37O8m.mp3",be="/add-game/assets/correct-DEwY3Po3.mp3",ve="/add-game/assets/complete-wZz7wJEN.mp3",B=[];function ke(e,t=O){let n;const i=new Set;function s(r){if(F(e,r)&&(e=r,n)){const a=!B.length;for(const c of i)c[1](),B.push(c,e);if(a){for(let c=0;c<B.length;c+=2)B[c][0](B[c+1]);B.length=0}}}function o(r){s(r(e))}function l(r,a=O){const c=[r,a];return i.add(c),i.size===1&&(n=t(s,o)||O),r(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:l}}function Nt(e){let t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))t=e.map(Nt).filter(Boolean).join(" ");else for(let n in e)e[n]&&(t&&(t+=" "),t+=n);return t}const Se=(...e)=>e.map(Nt).filter(Boolean).join(" ");function Ee(e){const t=e-1;return t*t*t+1}function Oe(e,{delay:t=0,duration:n=400,easing:i=Ee,axis:s="y"}={}){const o=getComputedStyle(e),l=+o.opacity,r=s==="y"?"height":"width",a=parseFloat(o[r]),c=s==="y"?["top","bottom"]:["left","right"],p=c.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),h=parseFloat(o[`padding${p[0]}`]),f=parseFloat(o[`padding${p[1]}`]),y=parseFloat(o[`margin${p[0]}`]),_=parseFloat(o[`margin${p[1]}`]),m=parseFloat(o[`border${p[0]}Width`]),x=parseFloat(o[`border${p[1]}Width`]);return{delay:t,duration:n,easing:i,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*l};${r}: ${d*a}px;padding-${c[0]}: ${d*h}px;padding-${c[1]}: ${d*f}px;margin-${c[0]}: ${d*y}px;margin-${c[1]}: ${d*_}px;border-${c[0]}-width: ${d*m}px;border-${c[1]}-width: ${d*x}px;`}}function Ce(e){let t,n;const i=e[10].default,s=Mt(i,e,e[9],null);let o=[e[1],{class:e[0]}],l={};for(let r=0;r<o.length;r+=1)l=rt(l,o[r]);return{c(){t=w("div"),s&&s.c(),xt(t,l)},m(r,a){D(r,t,a),s&&s.m(t,null),n=!0},p(r,[a]){s&&s.p&&(!n||a&512)&&Tt(s,i,r,r[9],n?Lt(i,r[9],a,null):At(r[9]),null),xt(t,l=ye(o,[a&2&&r[1],(!n||a&1)&&{class:r[0]}]))},i(r){n||(T(s,r),n=!0)},o(r){$(s,r),n=!1},d(r){r&&L(t),s&&s.d(r)}}}function Me(e,t,n){let i;const s=["class","sm","md","lg","xl","xxl","fluid"];let o=yt(t,s),{$$slots:l={},$$scope:r}=t,{class:a=""}=t,{sm:c=void 0}=t,{md:p=void 0}=t,{lg:h=void 0}=t,{xl:f=void 0}=t,{xxl:y=void 0}=t,{fluid:_=!1}=t;return e.$$set=m=>{t=rt(rt({},t),Yt(m)),n(1,o=yt(t,s)),"class"in m&&n(2,a=m.class),"sm"in m&&n(3,c=m.sm),"md"in m&&n(4,p=m.md),"lg"in m&&n(5,h=m.lg),"xl"in m&&n(6,f=m.xl),"xxl"in m&&n(7,y=m.xxl),"fluid"in m&&n(8,_=m.fluid),"$$scope"in m&&n(9,r=m.$$scope)},e.$$.update=()=>{e.$$.dirty&508&&n(0,i=Se(a,{"container-sm":c,"container-md":p,"container-lg":h,"container-xl":f,"container-xxl":y,"container-fluid":_,container:!c&&!p&&!h&&!f&&!y&&!_}))},[i,o,a,c,p,h,f,y,_,r,l]}class ze extends X{constructor(t){super(),V(this,t,Me,Ce,F,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}const Wt=ke(Le());Wt.subscribe(e=>Te(e));function Le(){var n,i,s;const e=((n=globalThis.document)==null?void 0:n.documentElement.getAttribute("data-bs-theme"))||"light",t=typeof((i=globalThis.window)==null?void 0:i.matchMedia)=="function"?(s=globalThis.window)==null?void 0:s.matchMedia("(prefers-color-scheme: dark)").matches:!1;return e==="dark"||e==="auto"&&t?"dark":"light"}function Te(e,t){var i;let n=e;if(arguments.length===1){if(n=(i=globalThis.document)==null?void 0:i.documentElement,!n)return;t=e,Wt.update(()=>t)}n.setAttribute("data-bs-theme",t)}function Ae(e){let t,n;return{c(){t=w("h4"),n=C(e[0])},m(i,s){D(i,t,s),g(t,n)},p(i,[s]){s&1&&G(n,i[0])},i:O,o:O,d(i){i&&L(t)}}}const Pe=20,$e=3;function St(e){let t=Math.floor(e/1e3%60),n=Math.floor(e%1e3/10),i=String(t).padStart(2,"0"),s=String(n).padStart(2,"0");return`${i}:${s}`}function je(e,t,n){const i=Rt();let s="00:00",o=0,l=0,r;function a(){l=Date.now(),o=Date.now()+Pe*1e3,r=setInterval(h,60)}function c(){o+=$e*1e3}function p(){clearInterval(r);let f=Date.now()-l;return St(f)}function h(){let f=o-Date.now();n(0,s=St(f)),f<0&&(p(),n(0,s="0:00"),i("timesUp"))}return a(),[s,c,p]}class De extends X{constructor(t){super(),V(this,t,je,Ae,F,{add:1,stop:2})}get add(){return this.$$.ctx[1]}get stop(){return this.$$.ctx[2]}}function Ie(e){let t,n,i,s,o,l,r,a,c,p,h,f,y,_,m,x,d,k,E,A,j={};return d=new De({props:j}),e[10](d),d.$on("timesUp",e[7]),{c(){t=w("div"),n=w("h1"),i=C(e[1]),s=C(" + "),o=C(e[2]),l=P(),r=w("input"),a=P(),c=w("button"),c.textContent="Guess",p=P(),h=w("div"),f=w("h2"),y=C("Score: "),_=C(e[4]),x=P(),it(d.$$.fragment),b(n,"class","nums svelte-xnrlhu"),b(r,"type","number"),b(r,"name","guess"),b(r,"class","svelte-xnrlhu"),b(c,"class","btn btn-secondary svelte-xnrlhu"),b(f,"class",m=_t(e[5])+" svelte-xnrlhu"),b(t,"class","content")},m(v,M){D(v,t,M),g(t,n),g(n,i),g(n,s),g(n,o),g(t,l),g(t,r),wt(r,e[3]),g(t,a),g(t,c),g(t,p),g(t,h),g(h,f),g(f,y),g(f,_),g(h,x),Y(d,h,null),k=!0,E||(A=[st(r,"input",e[8]),st(r,"keyup",e[9]),st(c,"click",e[6])],E=!0)},p(v,M){(!k||M&2)&&G(i,v[1]),(!k||M&4)&&G(o,v[2]),M&8&&Dt(r.value)!==v[3]&&wt(r,v[3]),(!k||M&16)&&G(_,v[4]),(!k||M&32&&m!==(m=_t(v[5])+" svelte-xnrlhu"))&&b(f,"class",m);const ut={};d.$set(ut)},i(v){k||(T(d.$$.fragment,v),k=!0)},o(v){$(d.$$.fragment,v),k=!1},d(v){v&&L(t),e[10](null),K(d),E=!1,J(A)}}}function Re(e){let t,n;return t=new ze({props:{class:"text-center d-flex justify-content-center align-items-center vh-100",style:"overflow:hidden;",$$slots:{default:[Ie]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},m(i,s){Y(t,i,s),n=!0},p(i,[s]){const o={};s&16447&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){K(t,i)}}}function Fe(e,t,n){let i,s=20,o=30,l,r,a=0,c="";p();function p(){let d=15;const k=setInterval(()=>{n(1,s=Math.ceil(Math.random()*100)+1),n(2,o=Math.ceil(Math.random()*100)+1),d--,d===0&&clearInterval(k)},50)}function h(){i.add(),!(l==null||l=="")&&(s+o===l?(n(3,l=""),n(4,a+=1),n(5,c="correct"),new Audio(be).play(),p()):(n(3,l=""),n(5,c="wrong"),new Audio(we).play()))}const f=Rt();function y(){let d=new Audio(ve);d.volume=.9,d.play(),r=i.stop(),f("complete",{score:a,time:r})}function _(){l=Dt(this.value),n(3,l)}const m=d=>d.key==="Enter"?h():"";function x(d){lt[d?"unshift":"push"](()=>{i=d,n(0,i)})}return[i,s,o,l,a,c,h,y,_,m,x]}class Ne extends X{constructor(t){super(),V(this,t,Fe,Re,F,{})}}function ft(e){return Math.abs(Math.floor(e))}function R(e,t){return Math.random()*(t-e)+e}function z(e,t){return Math.floor(R(e,t+1))}function Et(e,t,n,i){const s=Math.pow;return Math.sqrt(s(e-n,2)+s(t-i,2))}function pt(e,t,n=1){if(e>360||e<0)throw new Error(`Expected hue 0-360 range, got \`${e}\``);if(t>100||t<0)throw new Error(`Expected lightness 0-100 range, got \`${t}\``);if(n>1||n<0)throw new Error(`Expected alpha 0-1 range, got \`${n}\``);return`hsla(${e}, 100%, ${t}%, ${n})`}const Ot=e=>{if(typeof e=="object"&&e!==null){if(typeof Object.getPrototypeOf=="function"){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}return Object.prototype.toString.call(e)==="[object Object]"}return!1},We=["__proto__","constructor","prototype"],Bt=(...e)=>e.reduce((t,n)=>(Object.keys(n).forEach(i=>{We.includes(i)||(Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=n[i]:Ot(t[i])&&Ot(n[i])?t[i]=Bt(t[i],n[i]):t[i]=n[i])}),t),{});function Be(e,t){let n;return(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...i),t)}}class Ue{constructor({x:t,y:n,ctx:i,hue:s,decay:o,gravity:l,friction:r,brightness:a,flickering:c,lineWidth:p,explosionLength:h}){u(this,"x");u(this,"y");u(this,"ctx");u(this,"hue");u(this,"friction");u(this,"gravity");u(this,"flickering");u(this,"lineWidth");u(this,"explosionLength");u(this,"angle");u(this,"speed");u(this,"brightness");u(this,"coordinates",[]);u(this,"decay");u(this,"alpha",1);for(this.x=t,this.y=n,this.ctx=i,this.hue=s,this.gravity=l,this.friction=r,this.flickering=c,this.lineWidth=p,this.explosionLength=h,this.angle=R(0,Math.PI*2),this.speed=z(1,10),this.brightness=z(a.min,a.max),this.decay=R(o.min,o.max);this.explosionLength--;)this.coordinates.push([t,n])}update(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&t()}draw(){const t=this.coordinates.length-1;this.ctx.beginPath(),this.ctx.lineWidth=this.lineWidth,this.ctx.fillStyle=pt(this.hue,this.brightness,this.alpha),this.ctx.moveTo(this.coordinates[t][0],this.coordinates[t][1]),this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=pt(this.hue,this.flickering?R(0,this.brightness):this.brightness,this.alpha),this.ctx.stroke()}}class qe{constructor(t,n){u(this,"active",!1);u(this,"x");u(this,"y");this.options=t,this.canvas=n,this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this),this.pointerMove=this.pointerMove.bind(this)}get mouseOptions(){return this.options.mouse}mount(){this.canvas.addEventListener("pointerdown",this.pointerDown),this.canvas.addEventListener("pointerup",this.pointerUp),this.canvas.addEventListener("pointermove",this.pointerMove)}unmount(){this.canvas.removeEventListener("pointerdown",this.pointerDown),this.canvas.removeEventListener("pointerup",this.pointerUp),this.canvas.removeEventListener("pointermove",this.pointerMove)}usePointer(t,n){const{click:i,move:s}=this.mouseOptions;(i||s)&&(this.x=t.pageX-this.canvas.offsetLeft,this.y=t.pageY-this.canvas.offsetTop,this.active=n)}pointerDown(t){this.usePointer(t,this.mouseOptions.click)}pointerUp(t){this.usePointer(t,!1)}pointerMove(t){this.usePointer(t,this.active)}}class Ge{constructor(){u(this,"hue");u(this,"rocketsPoint");u(this,"opacity");u(this,"acceleration");u(this,"friction");u(this,"gravity");u(this,"particles");u(this,"explosion");u(this,"mouse");u(this,"boundaries");u(this,"sound");u(this,"delay");u(this,"brightness");u(this,"decay");u(this,"flickering");u(this,"intensity");u(this,"traceLength");u(this,"traceSpeed");u(this,"lineWidth");u(this,"lineStyle");u(this,"autoresize");this.autoresize=!0,this.lineStyle="round",this.flickering=50,this.traceLength=3,this.traceSpeed=10,this.intensity=30,this.explosion=5,this.gravity=1.5,this.opacity=.5,this.particles=50,this.friction=.95,this.acceleration=1.05,this.hue={min:0,max:360},this.rocketsPoint={min:50,max:50},this.lineWidth={explosion:{min:1,max:3},trace:{min:1,max:2}},this.mouse={click:!1,move:!1,max:1},this.delay={min:30,max:60},this.brightness={min:50,max:80},this.decay={min:.015,max:.03},this.sound={enabled:!1,files:["explosion0.mp3","explosion1.mp3","explosion2.mp3"],volume:{min:4,max:8}},this.boundaries={debug:!1,height:0,width:0,x:50,y:50}}update(t){Object.assign(this,Bt(this,t))}}class He{constructor(t,n){u(this,"tick",0);u(this,"rafId",0);u(this,"fps",60);u(this,"tolerance",.1);u(this,"now");this.options=t,this.render=n}mount(){this.now=performance.now();const t=1e3/this.fps,n=i=>{this.rafId=requestAnimationFrame(n);const s=i-this.now;s>=t-this.tolerance&&(this.render(),this.now=i-s%t,this.tick+=s*(this.options.intensity*Math.PI)/1e3)};this.rafId=requestAnimationFrame(n)}unmount(){cancelAnimationFrame(this.rafId)}}class Je{constructor(t,n,i){u(this,"resizer");this.options=t,this.updateSize=n,this.container=i}mount(){if(!this.resizer){const t=Be(()=>this.updateSize(),100);this.resizer=new ResizeObserver(t)}this.options.autoresize&&this.resizer.observe(this.container)}unmount(){this.resizer&&this.resizer.unobserve(this.container)}}class Ye{constructor(t){u(this,"buffers",[]);u(this,"audioContext");u(this,"onInit",!1);this.options=t,this.init()}get isEnabled(){return this.options.sound.enabled}get soundOptions(){return this.options.sound}init(){!this.onInit&&this.isEnabled&&(this.onInit=!0,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.loadSounds())}async loadSounds(){for(const t of this.soundOptions.files){const n=await(await fetch(t)).arrayBuffer();this.audioContext.decodeAudioData(n).then(i=>{this.buffers.push(i)}).catch(i=>{throw i})}}play(){if(this.isEnabled&&this.buffers.length){const t=this.audioContext.createBufferSource(),n=this.buffers[z(0,this.buffers.length-1)],i=this.audioContext.createGain();t.buffer=n,i.gain.value=R(this.soundOptions.volume.min/100,this.soundOptions.volume.max/100),i.connect(this.audioContext.destination),t.connect(i),t.start(0)}else this.init()}}class Ke{constructor({x:t,y:n,dx:i,dy:s,ctx:o,hue:l,speed:r,traceLength:a,acceleration:c}){u(this,"x");u(this,"y");u(this,"sx");u(this,"sy");u(this,"dx");u(this,"dy");u(this,"ctx");u(this,"hue");u(this,"speed");u(this,"acceleration");u(this,"traceLength");u(this,"totalDistance");u(this,"angle");u(this,"brightness");u(this,"coordinates",[]);u(this,"currentDistance",0);for(this.x=t,this.y=n,this.sx=t,this.sy=n,this.dx=i,this.dy=s,this.ctx=o,this.hue=l,this.speed=r,this.traceLength=a,this.acceleration=c,this.totalDistance=Et(t,n,i,s),this.angle=Math.atan2(s-n,i-t),this.brightness=z(50,70);this.traceLength--;)this.coordinates.push([t,n])}update(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.acceleration;const n=Math.cos(this.angle)*this.speed,i=Math.sin(this.angle)*this.speed;this.currentDistance=Et(this.sx,this.sy,this.x+n,this.y+i),this.currentDistance>=this.totalDistance?t(this.dx,this.dy,this.hue):(this.x+=n,this.y+=i)}draw(){const t=this.coordinates.length-1;this.ctx.beginPath(),this.ctx.moveTo(this.coordinates[t][0],this.coordinates[t][1]),this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=pt(this.hue,this.brightness),this.ctx.stroke()}}class Ve{constructor(t,n={}){u(this,"target");u(this,"container");u(this,"canvas");u(this,"ctx");u(this,"width");u(this,"height");u(this,"traces",[]);u(this,"explosions",[]);u(this,"waitStopRaf");u(this,"running",!1);u(this,"opts");u(this,"sound");u(this,"resize");u(this,"mouse");u(this,"raf");this.target=t,this.container=t,this.opts=new Ge,this.createCanvas(this.target),this.updateOptions(n),this.sound=new Ye(this.opts),this.resize=new Je(this.opts,this.updateSize.bind(this),this.container),this.mouse=new qe(this.opts,this.canvas),this.raf=new He(this.opts,this.render.bind(this))}get isRunning(){return this.running}get version(){return"2.10.7"}get currentOptions(){return this.opts}start(){this.running||(this.canvas.isConnected||this.createCanvas(this.target),this.running=!0,this.resize.mount(),this.mouse.mount(),this.raf.mount())}stop(t=!1){!this.running||(this.running=!1,this.resize.unmount(),this.mouse.unmount(),this.raf.unmount(),this.clear(),t&&this.canvas.remove())}async waitStop(t){if(this.running)return new Promise(n=>{this.waitStopRaf=()=>{!this.waitStopRaf||(requestAnimationFrame(this.waitStopRaf),!this.traces.length&&!this.explosions.length&&(this.waitStopRaf=null,this.stop(t),n()))},this.waitStopRaf()})}pause(){this.running=!this.running,this.running?this.raf.mount():this.raf.unmount()}clear(){!this.ctx||(this.traces=[],this.explosions=[],this.ctx.clearRect(0,0,this.width,this.height))}launch(t=1){for(let n=0;n<t;n++)this.createTrace();this.waitStopRaf||(this.start(),this.waitStop())}updateOptions(t){this.opts.update(t)}updateSize({width:t=this.container.clientWidth,height:n=this.container.clientHeight}={}){this.width=t,this.height=n,this.canvas.width=t,this.canvas.height=n,this.updateBoundaries({...this.opts.boundaries,width:t,height:n})}updateBoundaries(t){this.updateOptions({boundaries:t})}createCanvas(t){t instanceof HTMLCanvasElement?(t.isConnected||document.body.append(t),this.canvas=t):(this.canvas=document.createElement("canvas"),this.container.append(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.updateSize()}render(){if(!this.ctx||!this.running)return;const{opacity:t,lineStyle:n,lineWidth:i}=this.opts;this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle=`rgba(0, 0, 0, ${t})`,this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="lighter",this.ctx.lineCap=n,this.ctx.lineJoin="round",this.ctx.lineWidth=R(i.trace.min,i.trace.max),this.initTrace(),this.drawTrace(),this.drawExplosion()}createTrace(){const{hue:t,rocketsPoint:n,boundaries:i,traceLength:s,traceSpeed:o,acceleration:l,mouse:r}=this.opts;this.traces.push(new Ke({x:this.width*z(n.min,n.max)/100,y:this.height,dx:this.mouse.x&&r.move||this.mouse.active?this.mouse.x:z(i.x,i.width-i.x*2),dy:this.mouse.y&&r.move||this.mouse.active?this.mouse.y:z(i.y,i.height*.5),ctx:this.ctx,hue:z(t.min,t.max),speed:o,acceleration:l,traceLength:ft(s)}))}initTrace(){if(this.waitStopRaf)return;const{delay:t,mouse:n}=this.opts;(this.raf.tick>z(t.min,t.max)||this.mouse.active&&n.max>this.traces.length)&&(this.createTrace(),this.raf.tick=0)}drawTrace(){let t=this.traces.length;for(;t--;)this.traces[t].draw(),this.traces[t].update((n,i,s)=>{this.initExplosion(n,i,s),this.sound.play(),this.traces.splice(t,1)})}initExplosion(t,n,i){const{particles:s,flickering:o,lineWidth:l,explosion:r,brightness:a,friction:c,gravity:p,decay:h}=this.opts;let f=ft(s);for(;f--;)this.explosions.push(new Ue({x:t,y:n,ctx:this.ctx,hue:i,friction:c,gravity:p,flickering:z(0,100)<=o,lineWidth:R(l.explosion.min,l.explosion.max),explosionLength:ft(r),brightness:a,decay:h}))}drawExplosion(){let t=this.explosions.length;for(;t--;)this.explosions[t].draw(),this.explosions[t].update(()=>{this.explosions.splice(t,1)})}}function Xe(e){let t,n,i,s,o;const l=e[7].default,r=Mt(l,e,e[6],null);return{c(){t=w("div"),r&&r.c(),b(t,"class",e[0]),b(t,"style",e[1])},m(a,c){D(a,t,c),r&&r.m(t,null),i=!0,s||(o=Kt(n=e[3].call(null,t,e[2])),s=!0)},p(a,[c]){r&&r.p&&(!i||c&64)&&Tt(r,l,a,a[6],i?Lt(l,a[6],c,null):At(a[6]),null),(!i||c&1)&&b(t,"class",a[0]),(!i||c&2)&&b(t,"style",a[1]),n&&nt(n.update)&&c&4&&n.update.call(null,a[2])},i(a){i||(T(r,a),i=!0)},o(a){$(r,a),i=!1},d(a){a&&L(t),r&&r.d(a),s=!1,o()}}}function Ze(e,t,n){let{$$slots:i={},$$scope:s}=t,{class:o=""}=t,{autostart:l=!0}=t,{style:r=""}=t,{options:a={}}=t,c;function p(){return c}function h(f,y){return c=new Ve(f,y),l&&c.start(),{update(_){c.updateOptions(_)},destroy(){c.stop()}}}return e.$$set=f=>{"class"in f&&n(0,o=f.class),"autostart"in f&&n(4,l=f.autostart),"style"in f&&n(1,r=f.style),"options"in f&&n(2,a=f.options),"$$scope"in f&&n(6,s=f.$$scope)},[o,r,a,h,l,p,s,i]}let Qe=class extends X{constructor(t){super(),V(this,t,Ze,Xe,F,{class:0,autostart:4,style:1,options:2,fireworksInstance:5})}get fireworksInstance(){return this.$$.ctx[5]}};function tn(e){let t,n,i,s,o,l,r,a,c,p,h,f,y,_,m,x,d,k,E,A,j,v,M,ut={autostart:!0,options:e[3],class:"fireworks"};return n=new Qe({props:ut}),e[5](n),{c(){t=w("div"),it(n.$$.fragment),i=P(),s=w("div"),o=w("div"),l=w("h3"),l.textContent="New Record!",r=P(),a=w("h1"),c=C(e[0]),p=P(),h=w("h5"),f=C("Solved in "),y=C(e[1]),_=C("s"),m=P(),x=w("div"),d=w("button"),d.textContent="Play Again",k=P(),E=w("button"),E.textContent="Show Scores",b(t,"class","fireworks-div svelte-gj60zw"),b(a,"class","svelte-gj60zw"),b(d,"class","btn btn-primary m-2"),b(E,"class","btn btn-secondary m-2"),b(o,"class","content svelte-gj60zw"),b(s,"class","dashboard container svelte-gj60zw")},m(S,N){D(S,t,N),Y(n,t,null),D(S,i,N),D(S,s,N),g(s,o),g(o,l),g(o,r),g(o,a),g(a,c),g(o,p),g(o,h),g(h,f),g(h,y),g(h,_),g(o,m),g(o,x),g(x,d),g(x,k),g(x,E),j=!0,v||(M=st(d,"click",e[4]),v=!0)},p(S,[N]){const Ut={};n.$set(Ut),(!j||N&1)&&G(c,S[0]),(!j||N&2)&&G(y,S[1])},i(S){j||(T(n.$$.fragment,S),S&&(A||et(()=>{A=ge(o,Oe,{delay:600}),A.start()})),j=!0)},o(S){$(n.$$.fragment,S),j=!1},d(S){S&&(L(t),L(i),L(s)),e[5](null),K(n),v=!1,M()}}}function en(e,t,n){let i,s={opacity:1,autoresize:!0},{score:o}=t,{time:l}=t;function r(c){ce.call(this,e,c)}function a(c){lt[c?"unshift":"push"](()=>{i=c,n(2,i)})}return e.$$set=c=>{"score"in c&&n(0,o=c.score),"time"in c&&n(1,l=c.time)},[o,l,i,s,r,a]}class nn extends X{constructor(t){super(),V(this,t,en,tn,F,{score:0,time:1})}}function sn(e){let t,n;return t=new nn({props:{score:e[1],time:e[2]}}),t.$on("click",e[3]),{c(){it(t.$$.fragment)},m(i,s){Y(t,i,s),n=!0},p(i,s){const o={};s&2&&(o.score=i[1]),s&4&&(o.time=i[2]),t.$set(o)},i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){K(t,i)}}}function on(e){let t,n;return t=new Ne({}),t.$on("complete",e[4]),{c(){it(t.$$.fragment)},m(i,s){Y(t,i,s),n=!0},p:O,i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){K(t,i)}}}function rn(e){let t,n,i,s;const o=[on,sn],l=[];function r(a,c){return a[0]?0:1}return n=r(e),i=l[n]=o[n](e),{c(){t=w("main"),i.c()},m(a,c){D(a,t,c),l[n].m(t,null),s=!0},p(a,[c]){let p=n;n=r(a),n===p?l[n].p(a,c):(de(),$(l[p],1,1,()=>{l[p]=null}),pe(),i=l[n],i?i.p(a,c):(i=l[n]=o[n](a),i.c()),T(i,1),i.m(t,null))},i(a){s||(T(i),s=!0)},o(a){$(i),s=!1},d(a){a&&L(t),l[n].d()}}}function cn(e,t,n){let i=!0;function s(){n(0,i=!0),console.log("again")}let o,l;return[i,o,l,s,a=>{n(1,o=a.detail.score),n(2,l=a.detail.time),n(0,i=!1)}]}class an extends X{constructor(t){super(),V(this,t,cn,rn,F,{})}}new an({target:document.getElementById("app")});
